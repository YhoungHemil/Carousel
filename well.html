<!-- Google Fonts for Icons -->
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<!-- Translate Button Container -->
<div id="google_translate_element"></div>

<!-- Style Section -->
<style>
  body {
    top: 0 !important;
  }

  #google_translate_element {
    position: fixed;
    bottom: 2vh;
    right: 2vw;
    z-index: 9999;
  }

  .goog-te-gadget-simple {
    background: rgba(255, 255, 255, 0.5) !important;
    border: 1px solid black !important;
    padding: 0.2em 0.5em !important;
    border-radius: 8px !important;
    font-size: 1rem !important;
    line-height: 2rem !important;
    cursor: pointer;
    display: inline-flex !important;
    align-items: center;
  }

  .goog-te-menu-value {
    color: black !important;
    font-family: sans-serif;
    display: flex;
    align-items: center;
  }

  .goog-te-menu-value span {
    color: black !important;
    font-family: sans-serif;
  }

  .goog-te-menu-value:before {
    content: "\e894";
    font-family: 'Material Icons';
    color: blue;
    margin-right: 6px;
  }

  .goog-te-menu-value span:nth-child(3):after {
    content: "\E5C5";
    font-family: 'Material Icons';
    font-size: 1.5rem;
    color: red !important;
    margin-left: 5px;
  }

  .goog-te-gadget-icon,
  .goog-te-banner-frame,
  .goog-te-balloon-frame,
  .goog-logo-link,
  .goog-te-gadget span,
  .VIpgJd-ZVi9od-l4eHX-hSRGPd {
    display: none !important;
  }

  .goog-te-menu2 {
    max-width: 100% !important;
  }

  .goog-te-menu2 table td img {
    width: 20px;
    height: 14px;
    margin-right: 8px;
    vertical-align: middle;
  }

  .goog-te-menu-frame.skiptranslate {
    display: none !important;
  }
</style>
<div id="google_translate_element">
<p>What is PortaFlux?  PortaFlux is an all-in-one digital platform designed to inform, entertain, and empower users with a seamless experience across news, movies, tech updates, and smart digital content. Whether you're browsing the latest headlines, streaming trending videos, or exploring tech insights, PortaFlux delivers curated, quality content,right when you need it.
  
  It’s not just a content hub, it’s your daily destination for staying connected, learning something new, and discovering what matters.
  
  Key Features of PortaFlux:
  
  1. Daily News Feed
  
  </p>
  </div>

<!-- Google Translate + jQuery Scripts -->
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Google Translate Setup -->
<script>
  var GoogleLanguages = 'en,ar,ja,ko,fr,sv,is,ro,fi,et,it,zh-CN,tl';

  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'en',
      includedLanguages: GoogleLanguages,
      layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
      autoDisplay: false
    }, 'google_translate_element');
  }
</script>

<!-- Flag Support, Language Save, and Restore -->
<script>
  const langToFlag = {
    en: 'us', ar: 'sa', ja: 'jp', ko: 'kr', fr: 'fr',
    sv: 'se', is: 'is', ro: 'ro', fi: 'fi', et: 'ee',
    it: 'it', 'zh-CN': 'cn', tl: 'ph'
  };

  function addFlagsToMenu() {
    const tds = document.querySelectorAll('.goog-te-menu2 table td');
    tds.forEach(td => {
      const txt = td.textContent.trim().toLowerCase();
      for (const [code, flag] of Object.entries(langToFlag)) {
        if (txt.includes(code.toLowerCase()) && !td.querySelector('img')) {
          const img = document.createElement('img');
          img.src = `https://flagcdn.com/w20/${flag}.png`;
          img.alt = code;
          td.prepend(img);
        }
      }
    });
  }

  function storeLanguage(lang) {
    localStorage.setItem('selectedLang', lang);
  }

  function applySavedLanguage() {
    const savedLang = localStorage.getItem('selectedLang');
    if (savedLang && savedLang !== 'en') {
      const frame = document.querySelector('iframe.goog-te-menu-frame');
      if (frame) {
        const innerDoc = frame.contentDocument || frame.contentWindow.document;
        const links = innerDoc.querySelectorAll('.goog-te-menu2 a');
        links.forEach(link => {
          if (link.textContent.toLowerCase().includes(savedLang.toLowerCase())) {
            link.click();
          }
        });
      }
    }
  }

  function waitForIframeAndApplyLang() {
    const interval = setInterval(() => {
      const iframe = document.querySelector('iframe.goog-te-menu-frame');
      if (iframe) {
        clearInterval(interval);
        setTimeout(applySavedLanguage, 1000);
      }
    }, 500);
  }

  // Listen for dropdown open to inject flags + save language on click
  document.addEventListener('click', function (e) {
    const btn = document.querySelector('.goog-te-gadget-simple');
    if (btn && (btn.contains(e.target) || e.target.closest('.goog-te-menu2'))) {
      setTimeout(() => {
        addFlagsToMenu();

        const iframe = document.querySelector('iframe.goog-te-menu-frame');
        if (iframe) {
          const innerDoc = iframe.contentDocument || iframe.contentWindow.document;
          const links = innerDoc.querySelectorAll('.goog-te-menu2 a');
          links.forEach(link => {
            link.addEventListener('click', function () {
              const lang = this.innerText.split('(')[0].trim();
              storeLanguage(lang);
            });
          });
        }

      }, 500);
    }
  });

  // Auto apply saved language after refresh
  window.addEventListener('load', waitForIframeAndApplyLang);
</script>